---
import type { ProjectFrontmatter } from "../../lib/types";
import { GLOBAL, TRANSLATIONS } from "../../lib/variables";
import Anchor from "../common/Anchor.astro";
import ProjectSnippet from "../ProjectSnippet.astro";

type Props = {
  featuredProjects: Array<ProjectFrontmatter>;
}

const { featuredProjects } = Astro.props;
---

<div class="fade-in-section">
  <div class="flex justify-between items-center w-full">
    <h3 class="font-display font-bold text-lg sm:text-xl leading-loose lang-text" data-lang-en={TRANSLATIONS.en.projectsName} data-lang-es={TRANSLATIONS.es.projectsName}>{TRANSLATIONS.en.projectsName}</h3>
    <Anchor url="/projects" class="text-base lang-text" data-lang-en={TRANSLATIONS.en.viewAll} data-lang-es={TRANSLATIONS.es.viewAll}>{TRANSLATIONS.en.viewAll}</Anchor>
  </div>
  <ul class="my-8">
    {
      (featuredProjects.length === 0 && <p class="lang-text" data-lang-en={TRANSLATIONS.en.noProjects} data-lang-es={TRANSLATIONS.es.noProjects}>{TRANSLATIONS.en.noProjects}</p>) ||
        featuredProjects.map((project) => (
          <li>
            <ProjectSnippet
              title={project.title}
              description={project.description}
              url={project.filename}
              githubUrl={project.githubUrl}
              liveUrl={project.liveUrl}
              tags={project.tags ?? []}
            />
          </li>
        ))
    }
  </ul>
</div>

<style>
  .fade-in-section {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.8s ease forwards;
    animation-delay: 1.5s; /* Start after the typewriter effect finishes */
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>