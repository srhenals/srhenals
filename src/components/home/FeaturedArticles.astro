---
import type { ArticleFrontmatter } from "../../lib/types";
import { GLOBAL, TRANSLATIONS } from "../../lib/variables";
import ArticleSnippet from "../ArticleSnippet.astro";
import Anchor from "../common/Anchor.astro";

type Props = {
  featuredArticles: Array<ArticleFrontmatter>;
}

const { featuredArticles } = Astro.props;
---

<div class="fade-in-section">
  <div class="flex justify-between items-center w-full">
    <h3 class="font-display font-bold text-lg sm:text-xl leading-loose lang-text" data-lang-en={TRANSLATIONS.en.articlesName} data-lang-es={TRANSLATIONS.es.articlesName}>{TRANSLATIONS.en.articlesName}</h3>
    <Anchor url="/blog" class="text-base lang-text" data-lang-en={TRANSLATIONS.en.viewAll} data-lang-es={TRANSLATIONS.es.viewAll}>{TRANSLATIONS.en.viewAll}</Anchor>
  </div>
  <ul class="my-8">
    {
      (featuredArticles.length === 0 && <p class="lang-text" data-lang-en={TRANSLATIONS.en.noArticles} data-lang-es={TRANSLATIONS.es.noArticles}>{TRANSLATIONS.en.noArticles}</p>) ||
        featuredArticles.map((article) => (
          <li>
            <ArticleSnippet
              title={article.title}
              description={article.description}
              url={article.filename}
              timestamp={article.timestamp}
              duration={`${article.time} min`}
            />
          </li>
        ))
    }
  </ul>
</div>

<style>
  .fade-in-section {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.8s ease forwards;
    animation-delay: 1.8s; /* Slightly later than projects section for staggered effect */
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>